# TaskFlow Pro - 完全版

企業経営改善伴奏支援専門家向けの完全機能統合型タスク管理システム

## 🎯 プロジェクト概要

**TaskFlow Pro** は、かわちゃんさんのような企業経営改善の専門家や監査役の方々のために開発された、包括的なタスク管理・プロジェクト管理システムです。単一のHTMLファイルで完全に動作し、サーバー不要で**ブラウザのLocalStorage**にデータを保存します。

## ✅ 実装済み機能

### 📋 タスク管理機能
- **完全なCRUD操作**：タスクの作成・読取・更新・削除
- **リアルタイム検索とフィルタリング**：ステータス・優先度別フィルター
- **サブタスク管理**：進捗バー付きサブタスク機能
- **期限管理**：期限切れアラート、期限までの日数表示
- **ステータス管理**：未着手・進行中・完了の状態管理

### ⏱️ 時間追跡機能
- **リアルタイムタイマー**：開始・停止・一時停止機能
- **自動時間計算**：実績時間の自動記録
- **予想時間との比較**：計画vs実績の可視化
- **時間ログ記録**：詳細な作業履歴保存

### 📊 ガントチャート機能
- **ビジュアルプロジェクト管理**：月別表示でのタスク可視化
- **インタラクティブ操作**：前月・次月への簡単切り替え
- **タスクバー表示**：優先度・完了状況の色分け
- **期間表示**：開始日から期限までの視覚的表現
- **レスポンシブデザイン**：iPhone・デスクトップ対応

### 👥 顧客管理機能
- **顧客情報管理**：名前・会社・連絡先・メモ
- **タスク関連付け**：顧客別タスク表示
- **統計表示**：顧客別の総タスク数・完了数・作業時間
- **完全なCRUD操作**：顧客情報の作成・編集・削除

### 📈 レポート・分析機能
- **統計ダッシュボード**：総タスク数・完了数・作業時間・顧客数
- **ステータス分布チャート**：ドーナツチャートでの進捗可視化
- **優先度別分析**：棒グラフでの優先度分布
- **月別作業時間推移**：過去6ヶ月の作業時間トレンド
- **Chart.js使用**：美しくインタラクティブなグラフ

### ⚙️ 設定・統合機能
- **🔐 Google認証**：安全なログインシステムでデータ保護
- **🔄 リアルタイムデバイス間同期**：iPhone・iPad・PC間で完全無料のリアルタイム同期
- **📱 モバイル最適化**：PWA対応でアプリのような使用感
- **🔒 Firebase Firestore**：クラウドデータベースによる確実なデータ保存
- **⚡ 自動競合解決**：タイムスタンプベースでデータの整合性を保持
- **Google Calendar完全統合**：リアルタイムタスク同期・OAuth2認証
- **自動カレンダーイベント作成**：期限リマインダー・詳細情報付き
- **双方向同期対応**：既存イベント更新・重複防止
- **通知設定**：デスクトップ通知の有効化
- **高度なデータ管理**：JSON形式でのエクスポート・スマートインポート（差分追加対応）
- **データクリア機能**：全データの安全な削除

### 💾 データ永続化
- **LocalStorage使用**：ブラウザローカルでのデータ保存
- **自動保存**：すべての変更が即座に保存
- **データ整合性**：関連データの自動整理

## 🚀 現在の機能エントリーポイント

### メインファイル
- **index.html** - 完全機能統合版（単一ファイル）

### タブナビゲーション
1. **タスク** (`#tasks-view`) - メインタスク管理画面
2. **ガント** (`#gantt-view`) - ガントチャート表示
3. **顧客** (`#clients-view`) - 顧客管理画面
4. **レポート** (`#reports-view`) - 分析・統計画面
5. **設定** (`#settings-view`) - システム設定画面

### 主要機能への直接アクセス
- **新規タスク作成**：フローティングボタン（右下の青いプラスボタン）
- **タスク編集**：各タスクカードの編集ボタン
- **時間計測**：各タスクの再生/停止ボタン
- **新規顧客追加**：顧客画面の「新規顧客」ボタン
- **データエクスポート/インポート**：設定画面のデータ管理セクション

## 🎨 UI/UX特徴

### レスポンシブデザイン
- **iPhone最適化**：タッチフレンドリーなインターフェース
- **デスクトップ対応**：大画面での効率的な操作
- **iOS風エフェクト**：タップ時のスケールアニメーション

### ビジュアル要素
- **Tailwind CSS**：モダンで一貫したデザイン
- **Font Awesome**：直感的なアイコン
- **Chart.js**：美しいデータ可視化
- **カスタムスタイル**：独自のタイマーアニメーションとエフェクト

## 🛠️ 技術仕様

### フロントエンド技術
- **HTML5**：セマンティックマークアップ
- **CSS3**：アニメーション・レスポンシブデザイン
- **Vanilla JavaScript**：フレームワーク不要のピュアJS
- **LocalStorage API**：クライアントサイドデータ永続化
- **Google Calendar API v3**：カレンダー統合
- **Google Identity Services**：OAuth2認証

### 依存関係（CDN）
- **Tailwind CSS** - スタイリングフレームワーク
- **Chart.js** - データ可視化ライブラリ
- **Font Awesome** - アイコンライブラリ
- **Google Fonts (Inter)** - タイポグラフィ
- **Google APIs Client** - Calendar API統合
- **Google Identity Services** - OAuth2認証

### PWA対応
- **マニフェスト対応**：ホーム画面追加可能
- **アプリアイコン**：カスタムアイコン設定
- **フルスクリーンモード**：アプリライクな体験

## 📱 動作要件

### サポートブラウザ
- Safari (iOS/macOS)
- Chrome/Edge (デスクトップ・モバイル)
- Firefox (デスクトップ・モバイル)

### システム要件
- **JavaScript有効化必須**
- **LocalStorage対応必須**
- **インターネット接続**：CDNライブラリ読み込み時のみ

## 🔮 将来の拡張予定

### 次期開発候補
1. **オフライン対応**：Service Worker実装
2. **データ同期機能**：クラウドストレージ連携
3. **チーム機能**：複数ユーザー対応
4. **レポート拡張**：PDF出力・詳細分析
5. **Gmail統合**：メール自動送信機能

### 推奨次ステップ
1. 実際の業務でのテスト運用開始
2. 顧客データとタスクの実データ投入
3. 時間追跡機能での実際の生産性測定
4. レポート機能での業務分析実施

## 📊 データモデル

### Tasks（タスク）
```json
{
  "id": "string",
  "title": "string",
  "description": "string",
  "deadline": "date",
  "priority": "high|medium|low",
  "status": "pending|in_progress|completed",
  "client_id": "string|null",
  "estimated_hours": "number",
  "actual_hours": "number",
  "is_timing": "boolean",
  "current_timer_start": "datetime|null",
  "scheduled_date": "datetime|null",
  "created_at": "datetime",
  "updated_at": "datetime"
}
```

### Clients（顧客）
```json
{
  "id": "string",
  "name": "string",
  "company": "string",
  "email": "string",
  "phone": "string",
  "notes": "string",
  "created_at": "datetime",
  "updated_at": "datetime"
}
```

### Subtasks（サブタスク）
```json
{
  "id": "string",
  "parent_task_id": "string",
  "title": "string",
  "completed": "boolean",
  "deadline": "date|null",
  "created_at": "datetime",
  "updated_at": "datetime"
}
```

### TimeLogs（時間ログ）
```json
{
  "id": "string",
  "task_id": "string",
  "start_time": "datetime",
  "end_time": "datetime",
  "hours": "number",
  "created_at": "datetime"
}
```

## 🎯 使用開始方法

1. **index.html**をブラウザで開く
2. **設定タブ**を開き、**Firebase設定を完了**（初回のみ）
   - Firebase API Key を入力
   - Project ID を入力
   - 「接続テスト」で確認後「設定保存」
3. **Googleでログイン**でアカウント連携
4. 右下の青いプラスボタンから新規タスクを作成
5. 顧客タブで関連する顧客を登録
6. 各タスクで時間計測を開始
7. ガントタブでプロジェクト全体を可視化
8. レポートタブで進捗と効率を分析
9. **他の端末でも同じGoogleアカウントでログインして自動同期**

## 📅 Google Calendar統合設定手順

### 1. Google Cloud Console設定
1. [Google Cloud Console](https://console.cloud.google.com/)にアクセス
2. 新しいプロジェクトを作成（または既存を選択）
3. 「APIとサービス」→「ライブラリ」→「Google Calendar API」を有効化
4. 「認証情報」→「認証情報を作成」→「APIキー」を作成
5. 「OAuth 2.0クライアントID」を作成（アプリケーションの種類：ウェブアプリケーション）

### 2. TaskFlow Pro設定
1. 設定タブを開く
2. 「カレンダー同期」をON
3. Google Calendar API Keyを入力
4. Google Client IDを入力
5. Calendar ID（「primary」またはカレンダー固有ID）を入力
6. 「Googleでログイン」をクリックして認証
7. 「接続をテスト」で動作確認
8. 「タスクを同期」でカレンダーに反映

### 3. 利用可能機能
- ✅ **自動イベント作成**：タスク期限日にカレンダーイベント生成
- ✅ **詳細情報連携**：優先度・顧客・説明をイベント詳細に反映
- ✅ **リマインダー設定**：1時間前・10分前の自動通知
- ✅ **重複防止**：既存イベントの自動検出・更新
- ✅ **リアルタイム同期**：タスク変更時の即座反映

すべての機能が統合された完全版TaskFlow Proで、効果的なタスク管理と生産性向上を実現してください！

## 📊 LocalStorageデータ構造

TaskFlow Proは以下のキーでブラウザのLocalStorageにデータを保存します：

- **`taskflow_tasks`**: タスクデータ（JSON配列）
- **`taskflow_clients`**: 顧客データ（JSON配列）
- **`taskflow_subtasks`**: サブタスクデータ（JSON配列）
- **`taskflow_time_logs`**: 時間記録データ（JSON配列）
- **`taskflow_settings`**: アプリ設定（JSON オブジェクト）

### 🔄 スマートデータ管理機能
- **エクスポート**: 設定タブで全データをJSONファイルとして保存
- **スマートインポート**: 2つのモード選択可能
  - **📈 差分追加（推奨）**: 重複していない新しいデータのみ追加
  - **🔄 完全置き換え**: 従来方式（全データ置き換え）
- **重複検出**: ID・タイトル・期限の組み合わせで自動判定
- **詳細レポート**: 追加件数・スキップ件数を表示

## 🔐 セキュリティとプライバシー

- **OAuth2認証**：安全なGoogle認証プロトコル使用
- **ローカルデータ保存**：機密情報はブラウザ内のみ保存（サーバー送信なし）
- **API権限**：最小限のカレンダー読み書き権限のみ
- **暗号化通信**：HTTPS経由でのAPI通信

---

**開発者**: AI Assistant  
**プロジェクト目的**: 企業経営改善専門家の業務効率化  
**最終更新**: 2025年1月8日（Google Calendar API完全統合版）